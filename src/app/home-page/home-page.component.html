<div class="container">
  <div class="page-header">
    <h1>Appointment System</h1>
  </div>
  <div *ngIf="showMessage" class="alert alert-info" >
      {{ message }}
  </div>
  <br />
  <button class="btn btn-info" *ngIf="!showNewAppointmentForm" (click)="onAddNewAppointment()">NEW</button>

  <app-new-appointment 
    *ngIf="showNewAppointmentForm" 
    (cancelAddingAppointment)="onCancelAddingAppointment()" 
    (appointmentAdded)="onAppointmentAdded($event)"
    (showMessage)="onShowMessage($event)">
  </app-new-appointment>
  
  <div class="search-container">
    <input placeholder="search the description" [(ngModel)]="input">
    <button class="btn btn-info" (click)="onSearch()">SEARCH</button>
  </div>
  <table *ngIf="showTable" class="table table-striped table-hover" border="1">
    <tr>
      <th> Appointment Date </th>
      <th> Description </th>
      <th> Cancel </th>
    </tr>
    <tr *ngFor="let appointment of appointmentList">
      <td *ngIf="descriptionContainsKeyword(appointment.description)">
        {{ appointment.dateTime }}
      </td>
      <td *ngIf="descriptionContainsKeyword(appointment.description)">
        {{ appointment.description }}
      </td>
      <td *ngIf="descriptionContainsKeyword(appointment.description)">
        <button (click)="onCancelAppointment(appointment.description)"> CANCEL </button>
      </td>
    </tr>
  </table>
</div>
